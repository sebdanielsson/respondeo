# App, see docs/deployment.md for setup instructions
NEXT_PUBLIC_APP_URL="http://localhost:3000" # URL where the app is hosted
RATE_LIMIT_GUEST_PLAYS="5" # Number of allowed guest plays per RATE_LIMIT_WINDOW_MS
RATE_LIMIT_WINDOW_MS="60000" # 1 minute in milliseconds

# Image search configuration, see docs/image-search.md for setup instructions
UNSPLASH_ACCESS_KEY="" # Unsplash API Access Key (https://unsplash.com/developers)

# AI Configuration, see docs/ai-generation.md for setup instructions
AI_PROVIDER="openai" # AI provider: openai, openrouter, anthropic, google
AI_MODEL="gpt-5-mini" # Model to use (provider-specific)
OPENAI_API_KEY="" # OpenAI API Key
AI_WEB_SEARCH_ENABLED="true"
RATE_LIMIT_AI_USER="4" # AI generations per user per window
RATE_LIMIT_AI_USER_WINDOW_MS="86400000" # 24 hours in milliseconds
RATE_LIMIT_AI_GLOBAL="10" # Total AI generations across all users per window
RATE_LIMIT_AI_GLOBAL_WINDOW_MS="3600000" # 1 hour in milliseconds

# Auth, see docs/authentication.md for setup instructions
BETTER_AUTH_SECRET="your-super-secret-key-at-least-32-characters" # Generate a secure random key by running: openssl rand -base64 32
BETTER_AUTH_URL="http://localhost:3000" # URL where the auth service is hosted

# Database, see docs/database.md for setup instructions
DATABASE_URL="postgresql://respondeo:securepassword@localhost:5432/respondeo"

# Valkey caching configuration, see docs/caching.md for setup instructions
# REDIS_URL="redis://default:strongvalkeypassword@localhost:6379" # Valkey/Redis URL (e.g., redis://:password@hostname:port)

# OIDC Provider, see docs/authentication.md for setup instructions
OIDC_PROVIDER_ID="your-oidc-provider-id" # Unique identifier for your OIDC provider (e.g., "my-idp")
NEXT_PUBLIC_OIDC_PROVIDER_ID="your-oidc-provider-id" # Public-facing provider ID for client-side auth flow (must match OIDC_PROVIDER_ID)
OIDC_CLIENT_ID="your-oidc-client-id" # OIDC Client ID from your identity provider
OIDC_CLIENT_SECRET="your-oidc-client-secret" # OIDC Client Secret from your identity provider
OIDC_ISSUER="https://idp.company.local" # OIDC Issuer URL from your identity provider

# RBAC (Role-Based Access Control), see docs/rbac.md for full documentation
RBAC_PUBLIC_BROWSE_QUIZZES="true"  # Allow guests to view quiz list
RBAC_PUBLIC_VIEW_QUIZ="true"       # Allow guests to view quiz details
RBAC_PUBLIC_PLAY_QUIZ="true"       # Allow guests to play quizzes (results not saved)
RBAC_PUBLIC_LEADERBOARD="true"     # Allow guests to view leaderboards

# Role Assignment, see docs/rbac.md for full documentation
RBAC_DEFAULT_ROLE="user"                    # Default role for authenticated users: guest, user, creator, moderator, admin
RBAC_ROLE_ADMIN_GROUPS="quiz_admin"         # Comma-separated OIDC groups that map to admin role
RBAC_ROLE_MODERATOR_GROUPS="quiz_moderator" # Comma-separated OIDC groups that map to moderator role
RBAC_ROLE_CREATOR_GROUPS="quiz_creator"     # Comma-separated OIDC groups that map to creator role
RBAC_ROLE_USER_GROUPS="quiz_user"           # Comma-separated OIDC groups that map to user role

# Permission Overrides (comma-separated, use "*" for all permissions)
# RBAC_ROLE_ADMIN_PERMISSIONS="*"
# RBAC_ROLE_MODERATOR_PERMISSIONS=""
# RBAC_ROLE_CREATOR_PERMISSIONS=""
# RBAC_ROLE_USER_PERMISSIONS=""
# RBAC_ROLE_GUEST_PERMISSIONS=""
